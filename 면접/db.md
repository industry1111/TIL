# DB

**JOIN:**

- JOIN은 데이터베이스에서 두 개 이상의 테이블을 연결하여 하나의 결과 집합을 생성하는 연산입니다.
- JOIN을 사용하면 관련된 데이터를 검색하거나 조합할 수 있습니다.
- 대표적인 JOIN 종류로는 INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL OUTER JOIN 등이 있습니다.

**내부 조인과 외부 조인의 차이:**

- 내부 조인(Inner Join): 두 테이블 간의 공통된 값만을 결과로 반환하며, 두 테이블 간에 매칭되는 값이 없으면 해당 행은 제외됩니다.
- 외부 조인(Outer Join): 왼쪽 테이블 또는 오른쪽 테이블의 모든 행을 결과로 반환하며, 매칭되는 값이 없는 경우 NULL로 채워집니다. 왼쪽 외부 조인과 오른쪽 외부 조인, 전체 외부 조인 등이 있습니다.

**정규화:**

- 정규화는 데이터베이스 설계 과정에서 중복을 최소화하고 데이터를 구조화하는 과정입니다.
- 정규화를 통해 데이터의 무결성과 일관성을 유지하며, 효율적인 데이터 저장과 조회를 가능하게 합니다.
- 1차 정규형, 2차 정규형, 3차 정규형 등 다양한 정규형이 있으며, 더 높은 정규형에는 BCNF, 4차 정규형, 5차 정규형 등이 있습니다.

**파티셔닝과 샤딩:**

- 파티셔닝(Partitioning): 대용량 데이터베이스 테이블을 논리적 또는 물리적으로 나누어서 관리하는 방식으로, 데이터의 분산 저장과 조회 성능 향상을 위해 사용됩니다.
- 샤딩(Sharding): 대용량 데이터베이스나 분산 시스템을 여러 개의 서버로 나누어 관리하는 기술로, 데이터베이스의 부하 분산과 확장성을 높이기 위해 사용됩니다.

**ORM (Object-Relational Mapping):**

- ORM은 객체와 관계형 데이터베이스 간의 매핑을 자동화해주는 도구나 프레임워크를 말합니다.
- ORM을 사용하면 객체 지향 프로그래밍 언어와 관계형 데이터베이스 간의 데이터 변환 및 조작을 더 편리하게 수행할 수 있습니다.

**NoSQL:**

- NoSQL(Not Only SQL)은 관계형 데이터베이스가 아닌 다른 형태의 데이터 저장소를 의미합니다.
- NoSQL 데이터베이스는 스키마 유연성, 확장성, 고가용성 등을 강조하며, 특정 상황에 더 적합한 데이터 모델을 제공합니다.

**스키마:**

- 스키마는 데이터베이스에서 데이터의 구조와 형식을 정의하는 개념입니다.
- 관계형 데이터베이스에서 스키마는 테이블의 열(column) 이름, 데이터 타입, 제약 조건 등을 정의합니다.
- NoSQL 데이터베이스에서는 스키마가 더 유연하며 필요에 따라 동적으로 변할 수 있습니다.

**인덱스 (Index):**
인덱스는 데이터베이스의 테이블에서 특정 열(컬럼)에 대한 검색 성능을 향상시키기 위해 생성되는 데이터 구조입니다. 인덱스는 테이블 내의 데이터를 더 빠르게 찾을 수 있도록 도와주는 구조로, 특정 컬럼 값을 기반으로 정렬되어 있습니다.

**인덱스 동작 방식:**

- 인덱스는 B-트리, B+-트리 등의 데이터 구조를 사용하여 구현됩니다.
- 인덱스가 생성되면 해당 열의 값과 해당 값이 있는 행의 주소(포인터)가 인덱스에 저장됩니다.
- 인덱스를 사용하면 데이터베이스 엔진은 먼저 인덱스를 검색하여 검색 대상 행의 위치를 파악한 후 해당 행을 실제로 읽어옵니다.
-

**인덱스의 알고리즘:**

- B-Tree: 대부분의 관계형 데이터베이스에서 사용되며, 효율적인 데이터 검색을 위해 트리 구조를 사용합니다.
- B+-Tree: B-Tree의 변형으로, 잎 노드가 리프 노드로만 구성되어 더 빠른 범위 검색이 가능합니다.
- 해시 인덱스: 해시 함수를 사용하여 인덱스를 생성하며, 정확한 값 검색에 유용합니다.

**Table Full Scan과 Index Range Scan:**

- Table Full Scan: 테이블의 모든 레코드를 순차적으로 스캔하며 데이터를 찾는 방식입니다. 데이터가 큰 경우 느릴 수 있습니다.
- Index Range Scan: 인덱스를 사용하여 특정 범위 내의 데이터를 찾는 방식입니다. 인덱스가 존재하면 범위 검색이 빠르게 수행됩니다.

**트랜잭션 (Transaction):**
트랜잭션은 데이터베이스에서 하나의 논리적 작업 단위를 나타내며, 데이터의 무결성과 일관성을 보장하기 위해 사용됩니다. 트랜잭션은 ACID (원자성, 일관성, 고립성, 지속성) 원칙을 따릅니다.

**트랜잭션의 4가지 원칙:**

1. 원자성 (Atomicity): 트랜잭션의 모든 작업은 완전히 실행되거나 전혀 실행되지 않아야 합니다.
2. 일관성 (Consistency): 트랜잭션 전후에 데이터베이스가 일관된 상태를 유지해야 합니다.
3. 고립성 (Isolation): 여러 개의 트랜잭션이 동시에 실행되더라도, 각 트랜잭션은 서로 영향을 주지 않도록 격리되어야 합니다.
4. 지속성 (Durability): 트랜잭션이 완료된 후에는 해당 변경 사항이 영구적으로 저장되어야 합니다.

**트랜잭션 격리 수준과 발생 가능한 문제:**

- Read Uncommitted: Dirty Read, Non-Repeatable Read, Phantom Read 문제 발생 가능
- Read Committed: Non-Repeatable Read, Phantom Read 문제 발생 가능
- Repeatable Read: Phantom Read 문제 발생 가능
- Serializable: 모든 문제를 방지하지만 동시성이 제한될 수 있습니다.

**공유 락과 배타 락의 차이:**

- 공유 락(Shared Lock): 여러 트랜잭션에서 동시에 데이터를 읽을 수 있지만, 데이터 변경은 차단됩니다.
- 배타 락(Exclusive Lock): 트랜잭션이 데이터를 읽거나 수정하는 동안 다른 트랜잭션은 접근할 수 없습니다.

**데드락 (Deadlock):**

- 데드락은 두 개 이상의 트랜잭션이 서로 상대방의 작업이 끝나기를 기다리면서 무한히 대기 상태에 빠지는 현상을 말합니다.
- 데드락은 상호배제, 점유와 대기, 비선점, 순환 등의 4가지 조건이 동시에 성립할 때 발생할 수 있습니다.
- 데드락을 해결하기 위해 탐지 및 회피 알고리즘, 타임아웃 설정, 교착 상태 예방을 사용할 수 있습니다.